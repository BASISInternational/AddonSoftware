<html>
  <head>
    <title></title>
	
	<script>
		function getUrlVars() {
			<!-- used to parse the Authorize.net gateway URL and payment token from this URL -->
			var vars = {};
			var parts = window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
			vars[key] = value;
			});
			return vars;
		}
	</script>

  </head>

  <body>

    <form id="payment" method="post" action="">
        <input id="mytoken" type="hidden" name="token" value= "" > 
	
		<script>
			<!-- hidden input field stores the token; submit action attribute set to the Authorized.net gateway URL -->
			var tkn = getUrlVars()["authtoken"];
			document.getElementById('mytoken').value = tkn;
			var form_action = getUrlVars()["gatewayURL"];
			var paymentForm = document.getElementById('payment');
			paymentForm.setAttribute('action', form_action);
			paymentForm.submit();
		</script>
	</form>	
  </body>
</html>